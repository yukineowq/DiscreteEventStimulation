<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.6) on Mon Apr 20 10:46:14 SGT 2020 -->
<title>EventManager</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-04-20">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventManager";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">cs2030.simulator</a></div>
<h2 title="Class EventManager" class="title">Class EventManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>cs2030.simulator.EventManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">EventManager</span>
extends java.lang.Object</pre>
<div class="block">This class handles the sequence of event executions. There are 3 main
 components: (i) event queue and self-checkout queue that act like FIFO
 (first-in-first-out) queues for customers with a given maximum capacity, (ii)
 checking of event state for printing and (iii) checking which server (Human
 or Self-Checkout Counter) is available to serve which customer (Greedy or
 Typical).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.PriorityQueue&lt;<a href="Customer.html" title="class in cs2030.simulator">Customer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkoutQ">checkoutQ</a></span></code></th>
<td class="colLast">
<div class="block">PriorityQueue of Customers for Self-Checkout Counters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="Customer.html" title="class in cs2030.simulator">Customer</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#customers">customers</a></span></code></th>
<td class="colLast">
<div class="block">Array of customers that determines the wat Customers are processed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.PriorityQueue&lt;<a href="Event.html" title="class in cs2030.simulator">Event</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eventQueue">eventQueue</a></span></code></th>
<td class="colLast">
<div class="block">PriorityQueue of Events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="RandomGenerator.html" title="class in cs2030.simulator">RandomGenerator</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generator">generator</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="Server.html" title="class in cs2030.simulator">Server</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#servers">servers</a></span></code></th>
<td class="colLast">
<div class="block">Array of servers that determines the way Events are processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="Statistics.html" title="class in cs2030.simulator">Statistics</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#statistics">statistics</a></span></code></th>
<td class="colLast">
<div class="block">Variables for Event Manager class.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">EventManager</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eventMethod()">eventMethod</a></span>()</code></th>
<td class="colLast">
<div class="block">(i) Log the number of servers required into an array and create HumanServer
 and Self-Checkout Counter accordingly.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAvailableServer()">getAvailableServer</a></span>()</code></th>
<td class="colLast">
<div class="block">To retrieve an available server.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getGreedyNonBusyServer(boolean)">getGreedyNonBusyServer</a></span>&#8203;(boolean&nbsp;isGreedy)</code></th>
<td class="colLast">
<div class="block">To retrieve a non-busy server with the shortest queue for a greedy customer
 by comparing the waitingQueue size between 2 servers.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNonBusyServer()">getNonBusyServer</a></span>()</code></th>
<td class="colLast">
<div class="block">To retrieve a non-busy server.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#printStats()">printStats</a></span>()</code></th>
<td class="colLast">
<div class="block">Return a print statement of the statistics system which consists of the
 number of customers served, leaves and total waiting time to be counted into
 average.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startSimulation()">startSimulation</a></span>()</code></th>
<td class="colLast">
<div class="block">This method consists of the main logic for the execution of the start of
 stimulation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="statistics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statistics</h4>
<pre>private final&nbsp;<a href="Statistics.html" title="class in cs2030.simulator">Statistics</a> statistics</pre>
<div class="block">Variables for Event Manager class.</div>
</li>
</ul>
<a id="servers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>servers</h4>
<pre>private&nbsp;<a href="Server.html" title="class in cs2030.simulator">Server</a>[] servers</pre>
<div class="block">Array of servers that determines the way Events are processed.</div>
</li>
</ul>
<a id="customers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>customers</h4>
<pre>private&nbsp;<a href="Customer.html" title="class in cs2030.simulator">Customer</a>[] customers</pre>
<div class="block">Array of customers that determines the wat Customers are processed.</div>
</li>
</ul>
<a id="eventQueue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventQueue</h4>
<pre>private&nbsp;java.util.PriorityQueue&lt;<a href="Event.html" title="class in cs2030.simulator">Event</a>&gt; eventQueue</pre>
<div class="block">PriorityQueue of Events.</div>
</li>
</ul>
<a id="checkoutQ">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkoutQ</h4>
<pre>private&nbsp;java.util.PriorityQueue&lt;<a href="Customer.html" title="class in cs2030.simulator">Customer</a>&gt; checkoutQ</pre>
<div class="block">PriorityQueue of Customers for Self-Checkout Counters.</div>
</li>
</ul>
<a id="generator">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>generator</h4>
<pre><a href="RandomGenerator.html" title="class in cs2030.simulator">RandomGenerator</a> generator</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EventManager</h4>
<pre>public&nbsp;EventManager()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="eventMethod()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventMethod</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;eventMethod()</pre>
<div class="block">(i) Log the number of servers required into an array and create HumanServer
 and Self-Checkout Counter accordingly. HumanServers are identified from the
 start of input while Self-Checkout Counters are identified after the end of
 taking in HumanServers. Example, if there are 6 servers and 3 Self-CheckOut
 Counters input, [1,2,3] are HumanServers, [4,5,6] are Self-Checkout Counters.
 (ii) Log a customer's id and time into the customerQueue from line 76 to 86.
 (iii) The 3 Optional methods are to process the full sequence allocating,
 depending on server's availability to serve the customer. (iv) Check if the
 state of the event is in one of the 5 states: Arrives, Served, Waits, Leaves
 and Done, and update their states and time accordingly. Printing of
 statistics will be executed the last.</div>
</li>
</ul>
<a id="getAvailableServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailableServer</h4>
<pre class="methodSignature">private&nbsp;java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;&nbsp;getAvailableServer()</pre>
<div class="block">To retrieve an available server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Converting the array of servers into a stream, and filter out by
         checking if the server is not serving and not resting.</dd>
</dl>
</li>
</ul>
<a id="getNonBusyServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNonBusyServer</h4>
<pre class="methodSignature">public&nbsp;java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;&nbsp;getNonBusyServer()</pre>
<div class="block">To retrieve a non-busy server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Converting the array of servers into a stream, and filter out by
         checking if the server is not busy.</dd>
</dl>
</li>
</ul>
<a id="getGreedyNonBusyServer(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGreedyNonBusyServer</h4>
<pre class="methodSignature">private&nbsp;java.util.Optional&lt;<a href="Server.html" title="class in cs2030.simulator">Server</a>&gt;&nbsp;getGreedyNonBusyServer&#8203;(boolean&nbsp;isGreedy)</pre>
<div class="block">To retrieve a non-busy server with the shortest queue for a greedy customer
 by comparing the waitingQueue size between 2 servers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isGreedy</code> - A greedy customer.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if is a greedy customer, nonBusyStream will reduce to find if
         server2's queue is shorter than server1's queue, it will return
         server2. Else, if is a typical customer, it is done by converting the
         array of servers into a stream, and filter out by checking if the
         server is not busy.</dd>
</dl>
</li>
</ul>
<a id="startSimulation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startSimulation</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startSimulation()</pre>
<div class="block">This method consists of the main logic for the execution of the start of
 stimulation. Firstly, it is done by checking if this event of the eventQueue
 is not empty, and if this event is not an instanceof ServerRestEvent and
 ServerBackEvent, it will be printed out and goes through the fitting of which
 different event states. Then, it will be removed from the queue, and this
 repeats till the last event.</div>
</li>
</ul>
<a id="printStats()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>printStats</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;printStats()</pre>
<div class="block">Return a print statement of the statistics system which consists of the
 number of customers served, leaves and total waiting time to be counted into
 average.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
